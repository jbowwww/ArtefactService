2014-08-07 Open
04:45:29:053 ClientTest.Init: Initialising...
04:45:30:722 ServiceHost: Opening
04:45:30:799 ServiceHost: Closing
04:45:30:802 ServiceHost: Closed
04:45:31:282 Artefacts.Service.RepositoryClientProxy: Initialising
04:45:32:741 
Service Artefact Repository: Artefacts.Service.RepositoryClientProxy
04:45:32:741 
04:45:33:024 
FS Creator: Artefacts.FileSystem.FileSystemArtefactCreator
04:45:33:024 
04:45:33:024 ClientTest.Init: Already initialised
04:45:33:042 
########
# RunTest: Start: Host.Current static property
########
04:45:33:042 
04:45:33:042 [Host: HostId=a8c00a01]
04:45:33:042 
########
# RunTest: Success: Host.Current static property
########
04:45:33:042 
04:45:33:042 
########
# RunTest: Start: IQueryable<Artefact> _clientProxy.Artefacts
########
04:45:33:042 
04:45:33:097 1 artefacts currently in repository
04:45:33:097 
########
# RunTest: Success: IQueryable<Artefact> _clientProxy.Artefacts
########
04:45:33:097 
04:45:33:097 
########
# RunTest: Start: FileSystemArtefactCreator
########
04:45:33:097 
04:45:33:208 1 artefacts currently in repository
0 drives
04:45:33:497 
########
# RunTest: Failed: FileSystemArtefactCreator
########
04:45:33:497 
04:45:33:497 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
  at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00069] in /build/buildd/mono-3-3.4.0/mcs/class/corlib/System.Reflection/MonoMethod.cs:238 
  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[] parameters) [0x00000] in /build/buildd/mono-3-3.4.0/mcs/class/corlib/System.Reflection/MethodBase.cs:114 
  at Artefacts.TestClient.Program+<RunTests>c__AnonStorey1+<RunTests>c__AnonStorey0.<>m__0 () [0x00017] in /home/jk/Code/Projects/NET/ArtefactService/TestClient/Program.cs:76 
  at Artefacts.TestClient.Program.RunTest (System.String name, System.Action testMethod, System.IO.TextWriter output) [0x00023] in /home/jk/Code/Projects/NET/ArtefactService/TestClient/Program.cs:93 
04:45:33:497 
04:45:33:499    ------ Inner Exception ------
  System.ServiceModel.FaultException`1[[System.ServiceModel.ExceptionDetail, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]: Service:Artefacts.Service.Repository.Add(
  	System.Nullable`1[System.Int32] (0)
  	System.Nullable`1[System.Int32] (1)
  	NHibernate.ITransaction (2)
  	System.Int32 (3)
  	System.Int32 (4)
  	System.Exception (5))
  [:0,0]:
  NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing or set cascade action for the property to something that would make it autosave. Type: Artefacts.Host, Entity: [Host: HostId=a8c00a01]
    at NHibernate.Engine.ForeignKeys.GetEntityIdentifierIfNotUnsaved (System.String entityName, System.Object entity, ISessionImplementor session) [0x00000] in <filename unknown>:0 
    at NHibernate.Type.EntityType.GetIdentifier (System.Object value, ISessionImplementor session) [0x00000] in <filename unknown>:0 
    at NHibernate.Type.ManyToOneType.IsDirty (System.Object old, System.Object current, System.Boolean[] checkable, ISessionImplementor session) [0x00000] in <filename unknown>:0 
    at NHibernate.Type.TypeHelper.Dirty (NHibernate.Tuple.StandardProperty[] properties, System.Object[] currentState, System.Object[] previousState, System.Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session, Int32 i) [0x00000] in <filename unknown>:0 
    at NHibernate.Type.TypeHelper.FindDirty (NHibernate.Tuple.StandardProperty[] properties, System.Object[] currentState, System.Object[] previousState, System.Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session) [0x00000] in <filename unknown>:0 
    at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty (System.Object[] currentState, System.Object[] previousState, System.Object entity, ISessionImplementor session) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.DefaultFlushEntityEventListener.DirtyCheck (NHibernate.Event.FlushEntityEvent event) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.DefaultFlushEntityEventListener.IsUpdateNecessary (NHibernate.Event.FlushEntityEvent event, Boolean mightBeDirty) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.DefaultFlushEntityEventListener.OnFlushEntity (NHibernate.Event.FlushEntityEvent event) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.AbstractFlushingEventListener.FlushEntities (NHibernate.Event.FlushEvent event) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.AbstractFlushingEventListener.FlushEverythingToExecutions (NHibernate.Event.FlushEvent event) [0x00000] in <filename unknown>:0 
    at NHibernate.Event.Default.DefaultFlushEventListener.OnFlush (NHibernate.Event.FlushEvent event) [0x00000] in <filename unknown>:0 
    at NHibernate.Impl.SessionImpl.Flush () [0x00000] in <filename unknown>:0 
    at NHibernate.Transaction.AdoTransaction.Commit () [0x00000] in <filename unknown>:0 
    at Artefacts.Service.Repository.Add (Artefacts.Artefact artefact) [0x00000] in <filename unknown>:0 
  
    at System.ServiceModel.MonoInternal.ClientRuntimeChannel.Request (System.ServiceModel.Description.OperationDescription od, System.Object[] parameters) [0x0020a] in /build/buildd/mono-3-3.4.0/mcs/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:557 
    at System.ServiceModel.MonoInternal.ClientRuntimeChannel.DoProcess (System.Reflection.MethodBase method, System.String operationName, System.Object[] parameters) [0x00038] in /build/buildd/mono-3-3.4.0/mcs/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:496 
    at System.ServiceModel.MonoInternal.ClientRuntimeChannel.Process (System.Reflection.MethodBase method, System.String operationName, System.Object[] parameters) [0x0001c] in /build/buildd/mono-3-3.4.0/mcs/class/System.ServiceModel/System.ServiceModel/ClientRuntimeChannel.cs:477 
  
04:45:33:500 
--- Client exiting ---

2014-08-07 Close
